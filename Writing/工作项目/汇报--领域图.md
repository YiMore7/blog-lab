```mermaid
graph TD
    %% 样式定义
    classDef valueLayer fill:#e1f5fe,stroke:#01579b,stroke-width:2px;
    classDef engineLayer fill:#fff9c4,stroke:#fbc02d,stroke-width:2px;

    %% 价值领域 1：标准化供给
    subgraph SupplyDomain [标准化供给：定义内容边界]
        ProductLine[产品线实体] -->|约束| Template[课程模板]
        Template -->|组装| Unit[原子课次]
        Template -->|定义| Continuity[接续关系]
    end

    %% 价值领域 2：履约规划
    subgraph PlanningDomain [履约规划：构建时间坐标系]
        SchoolCalendar[校历：标准化节奏] -->|叠加SOP| OpsCalendar[运营日历：精细化动作]
    end

    %% 价值领域 3：产能管理
    subgraph CapacityDomain [产能管理：提升资源人效]
        TeacherArchive[师资档案] -->|产能测算| TeacherPool[可排课时间池]
    end

    %% 核心调度引擎 (抽象维度：智能调度中枢)
    subgraph MatchingEngine [调度引擎：高效资源匹配]
        direction TB
        MainScheduler[排主讲：锁定直播供给]
        TutorScheduler[排辅导：生成班级容器]
        StrategyEngine[分班策略：订单实时落位]
    end

    %% 跨域逻辑流
    SupplyDomain -->|提供内容标准| PlanningDomain
    PlanningDomain -->|提供履约任务| MatchingEngine
    CapacityDomain -->|提供人力库存| MatchingEngine
    OrderStream(订单/SKU) -->|触发落位| StrategyEngine

    %% 最终交付
    MatchingEngine -->|生成| ClassInstance[班级/直播履约实例]

    %% 价值标签
    Value1[标准化资产]:::valueLayer --- SupplyDomain
    Value2[线上化坐标]:::valueLayer --- PlanningDomain
    Value3[智能化调度]:::valueLayer --- MatchingEngine
```


```mermaid
erDiagram
    %% 课程域：标准化供给封装
    "课程产品线" ||--|{ "课程模板" : "包含"
    "课程模板" ||--|{ "原子课次Unit" : "组装"
    "课程模板" ||--o{ "接续关系规则" : "定义续报路径"

    %% 时间域：履约节奏规划
    "课程模板" ||--o{ "校历期次" : "实例化为"
    "校历期次" ||--|{ "标准行课节奏" : "拥有标准课表"
    "标准行课节奏" ||--o{ "运营动作" : "叠加SOP增强"

    %% 资源域：产能资源管理
    "老师" ||--|| "产能配置" : "配置规则"
    "老师" ||--o{ "时间池槽位" : "发布可用库存"

    %% 交付域：执行与连接
    "直播实例" ||--|{ "班级实例" : "1对N广播关联"
    
    %% 核心交互链路
    "老师" ||--o{ "直播实例" : "担任主讲"
    "运营动作" ||--|| "直播实例" : "驱动自动化创建"
    "老师" ||--o{ "班级实例" : "担任辅导"
    "订单" ||--|| "学生" : "产生学籍"
    "学生" ||--o{ "班级实例" : "落位进班"
    
    %% 策略逻辑
    "接续关系规则" ||--o{ "班级实例" : "指导锁师分班"
```


```mermaid
graph TD
    %% 定义样式
    classDef domain fill:#f9f9f9,stroke:#333,stroke-width:2px,stroke-dasharray: 5 5;
    classDef entity fill:#fff,stroke:#333,stroke-width:1px;

    %% 课程域
    subgraph ResearchDomain [课程域：标准化供给]
        direction TB
        A1[课程产品线] --- A2[课程模板]
        A2 --- A3[原子课次Unit]
        A2 --- A4[接续关系规则]
    end

    %% 时间域
    subgraph TimeDomain [时间域：履约节奏]
        direction TB
        B1[校历期次] --- B2[标准行课节奏]
        B2 --- B3[运营动作SOP]
    end

    %% 资源域
    subgraph ResourceDomain [资源域：产能资源]
        direction TB
        C1[老师] --- C2[产能配置]
        C1 --- C3[时间池槽位]
    end

    %% 交付域
    subgraph DeliveryDomain [交付域：执行与连接]
        direction TB
        D1[直播实例]
        D2[班级实例]
        D3[学生]
    end

    %% 跨域关联 (逻辑连线)
    A2 ==>|实例化| B1
    B3 -.->|驱动创建| D1
    C1 ---|主讲| D1
    C1 ---|辅导| D2
    D1 ---|1对N关联| D2
    D3 ---|落位进班| D2
    A4 -.->|指导分班| D2


